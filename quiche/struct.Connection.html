<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A QUIC connection."><meta name="keywords" content="rust, rustlang, rust-lang, Connection"><title>Connection in quiche - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><script defer src="../main.js"></script>
    <noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../quiche/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><h2 class="location">Struct Connection</h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#implementations">Methods</a></h3><div class="sidebar-links"><a href="#method.application_proto">application_proto</a><a href="#method.close">close</a><a href="#method.destination_id">destination_id</a><a href="#method.dgram_max_writable_len">dgram_max_writable_len</a><a href="#method.dgram_purge_outgoing">dgram_purge_outgoing</a><a href="#method.dgram_recv">dgram_recv</a><a href="#method.dgram_recv_front_len">dgram_recv_front_len</a><a href="#method.dgram_recv_peek">dgram_recv_peek</a><a href="#method.dgram_recv_queue_byte_size">dgram_recv_queue_byte_size</a><a href="#method.dgram_recv_queue_len">dgram_recv_queue_len</a><a href="#method.dgram_recv_vec">dgram_recv_vec</a><a href="#method.dgram_send">dgram_send</a><a href="#method.dgram_send_queue_byte_size">dgram_send_queue_byte_size</a><a href="#method.dgram_send_queue_len">dgram_send_queue_len</a><a href="#method.dgram_send_vec">dgram_send_vec</a><a href="#method.is_closed">is_closed</a><a href="#method.is_draining">is_draining</a><a href="#method.is_established">is_established</a><a href="#method.is_in_early_data">is_in_early_data</a><a href="#method.is_readable">is_readable</a><a href="#method.is_resumed">is_resumed</a><a href="#method.is_timed_out">is_timed_out</a><a href="#method.local_error">local_error</a><a href="#method.max_send_udp_payload_size">max_send_udp_payload_size</a><a href="#method.on_timeout">on_timeout</a><a href="#method.peer_cert">peer_cert</a><a href="#method.peer_error">peer_error</a><a href="#method.peer_streams_left_bidi">peer_streams_left_bidi</a><a href="#method.peer_streams_left_uni">peer_streams_left_uni</a><a href="#method.readable">readable</a><a href="#method.recv">recv</a><a href="#method.send">send</a><a href="#method.server_name">server_name</a><a href="#method.session">session</a><a href="#method.set_keylog">set_keylog</a><a href="#method.set_qlog">set_qlog</a><a href="#method.set_qlog_with_level">set_qlog_with_level</a><a href="#method.set_session">set_session</a><a href="#method.source_id">source_id</a><a href="#method.stats">stats</a><a href="#method.stream_application_data">stream_application_data</a><a href="#method.stream_capacity">stream_capacity</a><a href="#method.stream_finished">stream_finished</a><a href="#method.stream_init_application_data">stream_init_application_data</a><a href="#method.stream_priority">stream_priority</a><a href="#method.stream_readable">stream_readable</a><a href="#method.stream_recv">stream_recv</a><a href="#method.stream_send">stream_send</a><a href="#method.stream_shutdown">stream_shutdown</a><a href="#method.stream_writable">stream_writable</a><a href="#method.timeout">timeout</a><a href="#method.trace_id">trace_id</a><a href="#method.writable">writable</a></div><h3 class="sidebar-title"><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><div class="sidebar-links"><a href="#impl-RefUnwindSafe">!RefUnwindSafe</a><a href="#impl-Send">Send</a><a href="#impl-Sync">Sync</a><a href="#impl-Unpin">Unpin</a><a href="#impl-UnwindSafe">!UnwindSafe</a></div><h3 class="sidebar-title"><a href="#blanket-implementations">Blanket Implementations</a></h3><div class="sidebar-links"><a href="#impl-Any">Any</a><a href="#impl-Borrow%3CT%3E">Borrow&lt;T&gt;</a><a href="#impl-BorrowMut%3CT%3E">BorrowMut&lt;T&gt;</a><a href="#impl-From%3CT%3E">From&lt;T&gt;</a><a href="#impl-Into%3CU%3E">Into&lt;U&gt;</a><a href="#impl-TryFrom%3CU%3E">TryFrom&lt;U&gt;</a><a href="#impl-TryInto%3CU%3E">TryInto&lt;U&gt;</a></div></div><h2 class="location">Other items in<br><a href="index.html">quiche</a></h2><div id="sidebar-vars" data-name="Connection" data-ty="struct" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Struct <a href="index.html">quiche</a>::<wbr><a class="struct" href="#">Connection</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/quiche/lib.rs.html#977-1159" title="goto source code">[src]</a></span></h1><div class="docblock item-decl"><pre class="rust struct"><code>pub struct Connection { /* fields omitted */ }</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A QUIC connection.</p>
</div></details><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor"></a></h2><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#1417-5391" title="goto source code">[src]</a></div><a href="#impl" class="anchor"></a><h3 class="code-header in-band">impl <a class="struct" href="struct.Connection.html" title="struct quiche::Connection">Connection</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.set_keylog" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#1618-1620" title="goto source code">[src]</a></div><a href="#method.set_keylog" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.set_keylog" class="fnname">set_keylog</a>(&amp;mut self, writer: <a class="struct" href="https://doc.rust-lang.org/1.58.1/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.58.1/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>&gt;)</h4></div></summary><div class="docblock"><p>Sets keylog output to the designated <a href="https://doc.rust-lang.org/std/io/trait.Write.html"><code>Writer</code></a>.</p>
<p>This needs to be called as soon as the connection is created, to avoid
missing some early logs.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.set_qlog" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#1632-1637" title="goto source code">[src]</a></div><a href="#method.set_qlog" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.set_qlog" class="fnname">set_qlog</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;writer: <a class="struct" href="https://doc.rust-lang.org/1.58.1/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.58.1/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;title: <a class="struct" href="https://doc.rust-lang.org/1.58.1/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;description: <a class="struct" href="https://doc.rust-lang.org/1.58.1/alloc/string/struct.String.html" title="struct alloc::string::String">String</a><br>)</h4></div></summary><div class="docblock"><p>Sets qlog output to the designated <a href="https://doc.rust-lang.org/std/io/trait.Write.html"><code>Writer</code></a>.</p>
<p>Only events included in <code>QlogLevel::Base</code> are written. The serialization
format is JSON-SEQ.</p>
<p>This needs to be called as soon as the connection is created, to avoid
missing some early logs.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.set_qlog_with_level" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#1649-1705" title="goto source code">[src]</a></div><a href="#method.set_qlog_with_level" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.set_qlog_with_level" class="fnname">set_qlog_with_level</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;writer: <a class="struct" href="https://doc.rust-lang.org/1.58.1/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.58.1/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;title: <a class="struct" href="https://doc.rust-lang.org/1.58.1/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;description: <a class="struct" href="https://doc.rust-lang.org/1.58.1/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;qlog_level: <a class="enum" href="enum.QlogLevel.html" title="enum quiche::QlogLevel">QlogLevel</a><br>)</h4></div></summary><div class="docblock"><p>Sets qlog output to the designated <a href="https://doc.rust-lang.org/std/io/trait.Write.html"><code>Writer</code></a>.</p>
<p>Only qlog events included in the specified <code>QlogLevel</code> are written. The
serialization format is JSON-SEQ.</p>
<p>This needs to be called as soon as the connection is created, to avoid
missing some early logs.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.set_session" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#1717-1734" title="goto source code">[src]</a></div><a href="#method.set_session" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.set_session" class="fnname">set_session</a>(&amp;mut self, session: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">]</a>) -&gt; <a class="type" href="type.Result.html" title="type quiche::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock"><p>Configures the given session for resumption.</p>
<p>On the client, this can be used to offer the given serialized session,
as returned by <a href="struct.Connection.html#method.session"><code>session()</code></a>, for resumption.</p>
<p>This must only be called immediately after creating a connection, that
is, before any packet is sent or received.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.recv" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#1774-1834" title="goto source code">[src]</a></div><a href="#method.recv" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.recv" class="fnname">recv</a>(&amp;mut self, buf: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">&amp;mut [</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">]</a>, info: <a class="struct" href="struct.RecvInfo.html" title="struct quiche::RecvInfo">RecvInfo</a>) -&gt; <a class="type" href="type.Result.html" title="type quiche::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.usize.html">usize</a>&gt;</h4></div></summary><div class="docblock"><p>Processes QUIC packets received from the peer.</p>
<p>On success the number of bytes processed from the input buffer is
returned. On error the connection will be closed by calling <a href="struct.Connection.html#method.close"><code>close()</code></a>
with the appropriate error code.</p>
<p>Coalesced packets will be processed as necessary.</p>
<p>Note that the contents of the input buffer <code>buf</code> might be modified by
this function due to, for example, in-place decryption.</p>
<h6 id="examples" class="section-header"><a href="#examples">Examples:</a></h6>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">loop</span> {
    <span class="kw">let</span> (<span class="ident">read</span>, <span class="ident">from</span>) <span class="op">=</span> <span class="ident">socket</span>.<span class="ident">recv_from</span>(<span class="kw-2">&amp;mut</span> <span class="ident">buf</span>).<span class="ident">unwrap</span>();

    <span class="kw">let</span> <span class="ident">recv_info</span> <span class="op">=</span> <span class="ident">quiche::RecvInfo</span> { <span class="ident">from</span> };

    <span class="kw">let</span> <span class="ident">read</span> <span class="op">=</span> <span class="kw">match</span> <span class="ident">conn</span>.<span class="ident">recv</span>(<span class="kw-2">&amp;mut</span> <span class="ident">buf</span>[..<span class="ident">read</span>], <span class="ident">recv_info</span>) {
        <span class="prelude-val">Ok</span>(<span class="ident">v</span>) =&gt; <span class="ident">v</span>,

        <span class="prelude-val">Err</span>(<span class="ident">e</span>) =&gt; {
            <span class="comment">// An error occurred, handle it.</span>
            <span class="kw">break</span>;
        },
    };
}</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.send" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#2454-2567" title="goto source code">[src]</a></div><a href="#method.send" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.send" class="fnname">send</a>(&amp;mut self, out: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">&amp;mut [</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">]</a>) -&gt; <a class="type" href="type.Result.html" title="type quiche::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.tuple.html">(</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.usize.html">usize</a>, <a class="struct" href="struct.SendInfo.html" title="struct quiche::SendInfo">SendInfo</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.tuple.html">)</a>&gt;</h4></div></summary><div class="docblock"><p>Writes a single QUIC packet to be sent to the peer.</p>
<p>On success the number of bytes written to the output buffer is
returned, or <a href="enum.Error.html#variant.Done"><code>Done</code></a> if there was nothing to write.</p>
<p>The application should call <code>send()</code> multiple times until <a href="enum.Error.html#variant.Done"><code>Done</code></a> is
returned, indicating that there are no more packets to send. It is
recommended that <code>send()</code> be called in the following cases:</p>
<ul>
<li>
<p>When the application receives QUIC packets from the peer (that is,
any time <a href="struct.Connection.html#method.recv"><code>recv()</code></a> is also called).</p>
</li>
<li>
<p>When the connection timer expires (that is, any time <a href="struct.Connection.html#method.on_timeout"><code>on_timeout()</code></a>
is also called).</p>
</li>
<li>
<p>When the application sends data to the peer (for example, any time
<a href="struct.Connection.html#method.stream_send"><code>stream_send()</code></a> or <a href="struct.Connection.html#method.stream_shutdown"><code>stream_shutdown()</code></a> are called).</p>
</li>
<li>
<p>When the application receives data from the peer (for example any
time <a href="struct.Connection.html#method.stream_recv"><code>stream_recv()</code></a> is called).</p>
</li>
</ul>
<h6 id="examples-1" class="section-header"><a href="#examples-1">Examples:</a></h6>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">loop</span> {
    <span class="kw">let</span> (<span class="ident">write</span>, <span class="ident">send_info</span>) <span class="op">=</span> <span class="kw">match</span> <span class="ident">conn</span>.<span class="ident">send</span>(<span class="kw-2">&amp;mut</span> <span class="ident">out</span>) {
        <span class="prelude-val">Ok</span>(<span class="ident">v</span>) =&gt; <span class="ident">v</span>,

        <span class="prelude-val">Err</span>(<span class="ident">quiche::Error::Done</span>) =&gt; {
            <span class="comment">// Done writing.</span>
            <span class="kw">break</span>;
        },

        <span class="prelude-val">Err</span>(<span class="ident">e</span>) =&gt; {
            <span class="comment">// An error occurred, handle it.</span>
            <span class="kw">break</span>;
        },
    };

    <span class="ident">socket</span>.<span class="ident">send_to</span>(<span class="kw-2">&amp;</span><span class="ident">out</span>[..<span class="ident">write</span>], <span class="kw-2">&amp;</span><span class="ident">send_info</span>.<span class="ident">to</span>).<span class="ident">unwrap</span>();
}</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stream_recv" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#3506-3584" title="goto source code">[src]</a></div><a href="#method.stream_recv" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stream_recv" class="fnname">stream_recv</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;stream_id: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u64.html">u64</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;out: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">&amp;mut [</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">]</a><br>) -&gt; <a class="type" href="type.Result.html" title="type quiche::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.tuple.html">(</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.usize.html">usize</a>, <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.bool.html">bool</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.tuple.html">)</a>&gt;</h4></div></summary><div class="docblock"><p>Reads contiguous data from a stream into the provided slice.</p>
<p>The slice must be sized by the caller and will be populated up to its
capacity.</p>
<p>On success the amount of bytes read and a flag indicating the fin state
is returned as a tuple, or <a href="enum.Error.html#variant.Done"><code>Done</code></a> if there is no data to read.</p>
<p>Reading data from a stream may trigger queueing of control messages
(e.g. MAX_STREAM_DATA). <a href="struct.Connection.html#method.send"><code>send()</code></a> should be called after reading.</p>
<h6 id="examples-2" class="section-header"><a href="#examples-2">Examples:</a></h6>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">while</span> <span class="kw">let</span> <span class="prelude-val">Ok</span>((<span class="ident">read</span>, <span class="ident">fin</span>)) <span class="op">=</span> <span class="ident">conn</span>.<span class="ident">stream_recv</span>(<span class="ident">stream_id</span>, <span class="kw-2">&amp;mut</span> <span class="ident">buf</span>) {
    <span class="macro">println!</span>(<span class="string">&quot;Got {} bytes on stream {}&quot;</span>, <span class="ident">read</span>, <span class="ident">stream_id</span>);
}</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stream_send" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#3632-3739" title="goto source code">[src]</a></div><a href="#method.stream_send" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stream_send" class="fnname">stream_send</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;stream_id: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u64.html">u64</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;buf: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">]</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;fin: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.bool.html">bool</a><br>) -&gt; <a class="type" href="type.Result.html" title="type quiche::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.usize.html">usize</a>&gt;</h4></div></summary><div class="docblock"><p>Writes data to a stream.</p>
<p>On success the number of bytes written is returned, or <a href="enum.Error.html#variant.Done"><code>Done</code></a> if no
data was written (e.g. because the stream has no capacity).</p>
<p>Applications can provide a 0-length buffer with the fin flag set to
true. This will lead to a 0-length FIN STREAM frame being sent at the
latest offset. The <code>Ok(0)</code> value is only returned when the application
provided a 0-length buffer.</p>
<p>In addition, if the peer has signalled that it doesn’t want to receive
any more data from this stream by sending the <code>STOP_SENDING</code> frame, the
<a href="enum.Error.html#variant.StreamStopped"><code>StreamStopped</code></a> error will be returned instead of any data.</p>
<p>Note that in order to avoid buffering an infinite amount of data in the
stream’s send buffer, streams are only allowed to buffer outgoing data
up to the amount that the peer allows it to send (that is, up to the
stream’s outgoing flow control capacity).</p>
<p>This means that the number of written bytes returned can be lower than
the length of the input buffer when the stream doesn’t have enough
capacity for the operation to complete. The application should retry the
operation once the stream is reported as writable again.</p>
<p>Applications should call this method only after the handshake is
completed (whenever <a href="struct.Connection.html#method.is_established"><code>is_established()</code></a> returns <code>true</code>) or during
early data if enabled (whenever <a href="struct.Connection.html#method.is_in_early_data"><code>is_in_early_data()</code></a> returns <code>true</code>).</p>
<h6 id="examples-3" class="section-header"><a href="#examples-3">Examples:</a></h6>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="ident">conn</span>.<span class="ident">stream_send</span>(<span class="ident">stream_id</span>, <span class="string">b&quot;hello&quot;</span>, <span class="bool-val">true</span>)<span class="question-mark">?</span>;</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stream_priority" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#3749-3772" title="goto source code">[src]</a></div><a href="#method.stream_priority" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stream_priority" class="fnname">stream_priority</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;stream_id: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u64.html">u64</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;urgency: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u8.html">u8</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;incremental: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.bool.html">bool</a><br>) -&gt; <a class="type" href="type.Result.html" title="type quiche::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock"><p>Sets the priority for a stream.</p>
<p>A stream’s priority determines the order in which stream data is sent
on the wire (streams with lower priority are sent first). Streams are
created with a default priority of <code>127</code>.</p>
<p>The target stream is created if it did not exist before calling this
method.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stream_shutdown" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#3792-3828" title="goto source code">[src]</a></div><a href="#method.stream_shutdown" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stream_shutdown" class="fnname">stream_shutdown</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;stream_id: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u64.html">u64</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;direction: <a class="enum" href="enum.Shutdown.html" title="enum quiche::Shutdown">Shutdown</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;err: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u64.html">u64</a><br>) -&gt; <a class="type" href="type.Result.html" title="type quiche::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock"><p>Shuts down reading or writing from/to the specified stream.</p>
<p>When the <code>direction</code> argument is set to <a href="enum.Shutdown.html#variant.Read"><code>Shutdown::Read</code></a>, outstanding
data in the stream’s receive buffer is dropped, and no additional data
is added to it. Data received after calling this method is still
validated and acked but not stored, and <a href="struct.Connection.html#method.stream_recv"><code>stream_recv()</code></a> will not
return it to the application. In addition, a <code>STOP_SENDING</code> frame will
be sent to the peer to signal it to stop sending data.</p>
<p>When the <code>direction</code> argument is set to <a href="enum.Shutdown.html#variant.Write"><code>Shutdown::Write</code></a>, outstanding
data in the stream’s send buffer is dropped, and no additional data
is added to it. Data passed to <a href="struct.Connection.html#method.stream_send"><code>stream_send()</code></a> after calling this
method will be ignored.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stream_capacity" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#3843-3850" title="goto source code">[src]</a></div><a href="#method.stream_capacity" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stream_capacity" class="fnname">stream_capacity</a>(&amp;self, stream_id: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u64.html">u64</a>) -&gt; <a class="type" href="type.Result.html" title="type quiche::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.usize.html">usize</a>&gt;</h4></div></summary><div class="docblock"><p>Returns the stream’s send capacity in bytes.</p>
<p>If the specified stream doesn’t exist (including when it has already
been completed and closed), the <a href="enum.Error.html#variant.InvalidStreamState"><code>InvalidStreamState</code></a> error will be
returned.</p>
<p>In addition, if the peer has signalled that it doesn’t want to receive
any more data from this stream by sending the <code>STOP_SENDING</code> frame, the
<a href="enum.Error.html#variant.StreamStopped"><code>StreamStopped</code></a> error will be returned.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stream_readable" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#3853-3861" title="goto source code">[src]</a></div><a href="#method.stream_readable" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stream_readable" class="fnname">stream_readable</a>(&amp;self, stream_id: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u64.html">u64</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.bool.html">bool</a></h4></div></summary><div class="docblock"><p>Returns true if the stream has data that can be read.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stream_writable" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#3882-3905" title="goto source code">[src]</a></div><a href="#method.stream_writable" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stream_writable" class="fnname">stream_writable</a>(&amp;mut self, stream_id: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u64.html">u64</a>, len: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.usize.html">usize</a>) -&gt; <a class="type" href="type.Result.html" title="type quiche::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.bool.html">bool</a>&gt;</h4></div></summary><div class="docblock"><p>Returns true if the stream has enough send capacity.</p>
<p>When <code>len</code> more bytes can be buffered into the given stream’s send
buffer, <code>true</code> will be returned, <code>false</code> otherwise.</p>
<p>In the latter case, if the additional data can’t be buffered due to
flow control limits, the peer will also be notified.</p>
<p>If the specified stream doesn’t exist (including when it has already
been completed and closed), the <a href="enum.Error.html#variant.InvalidStreamState"><code>InvalidStreamState</code></a> error will be
returned.</p>
<p>In addition, if the peer has signalled that it doesn’t want to receive
any more data from this stream by sending the <code>STOP_SENDING</code> frame, the
<a href="enum.Error.html#variant.StreamStopped"><code>StreamStopped</code></a> error will be returned.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stream_finished" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#3916-3924" title="goto source code">[src]</a></div><a href="#method.stream_finished" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stream_finished" class="fnname">stream_finished</a>(&amp;self, stream_id: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u64.html">u64</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.bool.html">bool</a></h4></div></summary><div class="docblock"><p>Returns true if all the data has been read from the specified stream.</p>
<p>This instructs the application that all the data received from the
peer on the stream has been read, and there won’t be anymore in the
future.</p>
<p>Basically this returns true when the peer either set the <code>fin</code> flag
for the stream, or sent <code>RESET_STREAM</code>.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.peer_streams_left_bidi" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#3932-3934" title="goto source code">[src]</a></div><a href="#method.peer_streams_left_bidi" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.peer_streams_left_bidi" class="fnname">peer_streams_left_bidi</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u64.html">u64</a></h4></div></summary><div class="docblock"><p>Returns the number of bidirectional streams that can be created
before the peer’s stream count limit is reached.</p>
<p>This can be useful to know if it’s possible to create a bidirectional
stream without trying it first.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.peer_streams_left_uni" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#3942-3944" title="goto source code">[src]</a></div><a href="#method.peer_streams_left_uni" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.peer_streams_left_uni" class="fnname">peer_streams_left_uni</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u64.html">u64</a></h4></div></summary><div class="docblock"><p>Returns the number of unidirectional streams that can be created
before the peer’s stream count limit is reached.</p>
<p>This can be useful to know if it’s possible to create a unidirectional
stream without trying it first.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stream_init_application_data" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#3955-3971" title="goto source code">[src]</a></div><a href="#method.stream_init_application_data" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stream_init_application_data" class="fnname">stream_init_application_data</a>&lt;T&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;stream_id: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u64.html">u64</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;data: T<br>) -&gt; <a class="type" href="type.Result.html" title="type quiche::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.unit.html">()</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/any/trait.Any.html" title="trait core::any::Any">Any</a> + <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>,&nbsp;</span></h4></div></summary><div class="docblock"><p>Initializes the stream’s application data.</p>
<p>This can be used by applications to store per-stream information without
having to maintain their own stream map.</p>
<p>Stream data can only be initialized once. Additional calls to this
method will return <a href="enum.Error.html#variant.Done"><code>Done</code></a>.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stream_application_data" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#3980-3991" title="goto source code">[src]</a></div><a href="#method.stream_application_data" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stream_application_data" class="fnname">stream_application_data</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;stream_id: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u64.html">u64</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.58.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;mut dyn <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/any/trait.Any.html" title="trait core::any::Any">Any</a>&gt;</h4></div></summary><div class="docblock"><p>Returns the stream’s application data, if any was initialized.</p>
<p>This returns a reference to the application data that was initialized
by calling <a href="struct.Connection.html#method.stream_init_application_data"><code>stream_init_application_data()</code></a>.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.readable" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4019-4021" title="goto source code">[src]</a></div><a href="#method.readable" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.readable" class="fnname">readable</a>(&amp;self) -&gt; <a class="struct" href="struct.StreamIter.html" title="struct quiche::StreamIter">StreamIter</a><span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<div class="notable-traits-tooltiptext"><span class="docblock"><div class="notable">Notable traits for <a class="struct" href="struct.StreamIter.html" title="struct quiche::StreamIter">StreamIter</a></div><code class="content"><span class="where fmt-newline">impl <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a> for <a class="struct" href="struct.StreamIter.html" title="struct quiche::StreamIter">StreamIter</a></span><span class="where fmt-newline">    type <a href="https://doc.rust-lang.org/1.58.1/core/iter/traits/iterator/trait.Iterator.html#associatedtype.Item" class="type">Item</a> = <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u64.html">u64</a>;</span></code></span></div></span></span></h4></div></summary><div class="docblock"><p>Returns an iterator over streams that have outstanding data to read.</p>
<p>Note that the iterator will only include streams that were readable at
the time the iterator itself was created (i.e. when <code>readable()</code> was
called). To account for newly readable streams, the iterator needs to
be created again.</p>
<h6 id="examples-4" class="section-header"><a href="#examples-4">Examples:</a></h6>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="comment">// Iterate over readable streams.</span>
<span class="kw">for</span> <span class="ident">stream_id</span> <span class="kw">in</span> <span class="ident">conn</span>.<span class="ident">readable</span>() {
    <span class="comment">// Stream is readable, read until there&#39;s no more data.</span>
    <span class="kw">while</span> <span class="kw">let</span> <span class="prelude-val">Ok</span>((<span class="ident">read</span>, <span class="ident">fin</span>)) <span class="op">=</span> <span class="ident">conn</span>.<span class="ident">stream_recv</span>(<span class="ident">stream_id</span>, <span class="kw-2">&amp;mut</span> <span class="ident">buf</span>) {
        <span class="macro">println!</span>(<span class="string">&quot;Got {} bytes on stream {}&quot;</span>, <span class="ident">read</span>, <span class="ident">stream_id</span>);
    }
}</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.writable" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4054-4062" title="goto source code">[src]</a></div><a href="#method.writable" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.writable" class="fnname">writable</a>(&amp;self) -&gt; <a class="struct" href="struct.StreamIter.html" title="struct quiche::StreamIter">StreamIter</a><span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<div class="notable-traits-tooltiptext"><span class="docblock"><div class="notable">Notable traits for <a class="struct" href="struct.StreamIter.html" title="struct quiche::StreamIter">StreamIter</a></div><code class="content"><span class="where fmt-newline">impl <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a> for <a class="struct" href="struct.StreamIter.html" title="struct quiche::StreamIter">StreamIter</a></span><span class="where fmt-newline">    type <a href="https://doc.rust-lang.org/1.58.1/core/iter/traits/iterator/trait.Iterator.html#associatedtype.Item" class="type">Item</a> = <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u64.html">u64</a>;</span></code></span></div></span></span></h4></div></summary><div class="docblock"><p>Returns an iterator over streams that can be written to.</p>
<p>A “writable” stream is a stream that has enough flow control capacity to
send data to the peer. To avoid buffering an infinite amount of data,
streams are only allowed to buffer outgoing data up to the amount that
the peer allows to send.</p>
<p>Note that the iterator will only include streams that were writable at
the time the iterator itself was created (i.e. when <code>writable()</code> was
called). To account for newly writable streams, the iterator needs to
be created again.</p>
<h6 id="examples-5" class="section-header"><a href="#examples-5">Examples:</a></h6>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="comment">// Iterate over writable streams.</span>
<span class="kw">for</span> <span class="ident">stream_id</span> <span class="kw">in</span> <span class="ident">conn</span>.<span class="ident">writable</span>() {
    <span class="comment">// Stream is writable, write some data.</span>
    <span class="kw">if</span> <span class="kw">let</span> <span class="prelude-val">Ok</span>(<span class="ident">written</span>) <span class="op">=</span> <span class="ident">conn</span>.<span class="ident">stream_send</span>(<span class="ident">stream_id</span>, <span class="kw-2">&amp;</span><span class="ident">buf</span>, <span class="bool-val">false</span>) {
        <span class="macro">println!</span>(<span class="string">&quot;Written {} bytes on stream {}&quot;</span>, <span class="ident">written</span>, <span class="ident">stream_id</span>);
    }
}</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.max_send_udp_payload_size" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4077-4087" title="goto source code">[src]</a></div><a href="#method.max_send_udp_payload_size" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.max_send_udp_payload_size" class="fnname">max_send_udp_payload_size</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.usize.html">usize</a></h4></div></summary><div class="docblock"><p>Returns the maximum possible size of egress UDP payloads.</p>
<p>This is the maximum size of UDP payloads that can be sent, and depends
on both the configured maximum send payload size of the local endpoint
(as configured with <a href="struct.Config.html#method.set_max_send_udp_payload_size"><code>set_max_send_udp_payload_size()</code></a>), as well as
the transport parameter advertised by the remote peer.</p>
<p>Note that this value can change during the lifetime of the connection,
but should remain stable across consecutive calls to <a href="struct.Connection.html#method.send"><code>send()</code></a>.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.dgram_recv" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4117-4130" title="goto source code">[src]</a></div><a href="#method.dgram_recv" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.dgram_recv" class="fnname">dgram_recv</a>(&amp;mut self, buf: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">&amp;mut [</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">]</a>) -&gt; <a class="type" href="type.Result.html" title="type quiche::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.usize.html">usize</a>&gt;</h4></div></summary><div class="docblock"><p>Reads the first received DATAGRAM.</p>
<p>On success the DATAGRAM’s data is returned along with its size.</p>
<p><a href="enum.Error.html#variant.Done"><code>Done</code></a> is returned if there is no data to read.</p>
<p><a href="enum.Error.html#variant.BufferTooShort"><code>BufferTooShort</code></a> is returned if the provided buffer is too small for
the DATAGRAM.</p>
<h6 id="examples-6" class="section-header"><a href="#examples-6">Examples:</a></h6>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">dgram_buf</span> <span class="op">=</span> [<span class="number">0</span>; <span class="number">512</span>];
<span class="kw">while</span> <span class="kw">let</span> <span class="prelude-val">Ok</span>((<span class="ident">len</span>)) <span class="op">=</span> <span class="ident">conn</span>.<span class="ident">dgram_recv</span>(<span class="kw-2">&amp;mut</span> <span class="ident">dgram_buf</span>) {
    <span class="macro">println!</span>(<span class="string">&quot;Got {} bytes of DATAGRAM&quot;</span>, <span class="ident">len</span>);
}</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.dgram_recv_vec" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4139-4145" title="goto source code">[src]</a></div><a href="#method.dgram_recv_vec" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.dgram_recv_vec" class="fnname">dgram_recv_vec</a>(&amp;mut self) -&gt; <a class="type" href="type.Result.html" title="type quiche::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.58.1/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u8.html">u8</a>&gt;&gt;</h4></div></summary><div class="docblock"><p>Reads the first received DATAGRAM.</p>
<p>This is the same as <a href="struct.Connection.html#method.dgram_recv"><code>dgram_recv()</code></a> but returns the DATAGRAM as a
<code>Vec&lt;u8&gt;</code> instead of copying into the provided buffer.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.dgram_recv_peek" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4161-4163" title="goto source code">[src]</a></div><a href="#method.dgram_recv_peek" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.dgram_recv_peek" class="fnname">dgram_recv_peek</a>(&amp;self, buf: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">&amp;mut [</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">]</a>, len: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.usize.html">usize</a>) -&gt; <a class="type" href="type.Result.html" title="type quiche::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.usize.html">usize</a>&gt;</h4></div></summary><div class="docblock"><p>Reads the first received DATAGRAM without removing it from the queue.</p>
<p>On success the DATAGRAM’s data is returned along with the actual number
of bytes peeked. The requested length cannot exceed the DATAGRAM’s
actual length.</p>
<p><a href="enum.Error.html#variant.Done"><code>Done</code></a> is returned if there is no data to read.</p>
<p><a href="enum.Error.html#variant.BufferTooShort"><code>BufferTooShort</code></a> is returned if the provided buffer is smaller the
number of bytes to peek.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.dgram_recv_front_len" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4167-4169" title="goto source code">[src]</a></div><a href="#method.dgram_recv_front_len" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.dgram_recv_front_len" class="fnname">dgram_recv_front_len</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.58.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.usize.html">usize</a>&gt;</h4></div></summary><div class="docblock"><p>Returns the length of the first stored DATAGRAM.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.dgram_recv_queue_len" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4173-4175" title="goto source code">[src]</a></div><a href="#method.dgram_recv_queue_len" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.dgram_recv_queue_len" class="fnname">dgram_recv_queue_len</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.usize.html">usize</a></h4></div></summary><div class="docblock"><p>Returns the number of items in the DATAGRAM receive queue.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.dgram_recv_queue_byte_size" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4179-4181" title="goto source code">[src]</a></div><a href="#method.dgram_recv_queue_byte_size" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.dgram_recv_queue_byte_size" class="fnname">dgram_recv_queue_byte_size</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.usize.html">usize</a></h4></div></summary><div class="docblock"><p>Returns the total size of all items in the DATAGRAM receive queue.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.dgram_send_queue_len" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4185-4187" title="goto source code">[src]</a></div><a href="#method.dgram_send_queue_len" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.dgram_send_queue_len" class="fnname">dgram_send_queue_len</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.usize.html">usize</a></h4></div></summary><div class="docblock"><p>Returns the number of items in the DATAGRAM send queue.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.dgram_send_queue_byte_size" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4191-4193" title="goto source code">[src]</a></div><a href="#method.dgram_send_queue_byte_size" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.dgram_send_queue_byte_size" class="fnname">dgram_send_queue_byte_size</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.usize.html">usize</a></h4></div></summary><div class="docblock"><p>Returns the total size of all items in the DATAGRAM send queue.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.dgram_send" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4226-4244" title="goto source code">[src]</a></div><a href="#method.dgram_send" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.dgram_send" class="fnname">dgram_send</a>(&amp;mut self, buf: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">]</a>) -&gt; <a class="type" href="type.Result.html" title="type quiche::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock"><p>Sends data in a DATAGRAM frame.</p>
<p><a href="enum.Error.html#variant.Done"><code>Done</code></a> is returned if no data was written.
<a href="enum.Error.html#variant.InvalidState"><code>InvalidState</code></a> is returned if the peer does not support DATAGRAM.
<a href="enum.Error.html#variant.BufferTooShort"><code>BufferTooShort</code></a> is returned if the DATAGRAM frame length is larger
than peer’s supported DATAGRAM frame length. Use
<a href="struct.Connection.html#method.dgram_max_writable_len"><code>dgram_max_writable_len()</code></a> to get the largest supported DATAGRAM
frame length.</p>
<p>Note that there is no flow control of DATAGRAM frames, so in order to
avoid buffering an infinite amount of frames we apply an internal
limit.</p>
<h6 id="examples-7" class="section-header"><a href="#examples-7">Examples:</a></h6>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="ident">conn</span>.<span class="ident">dgram_send</span>(<span class="string">b&quot;hello&quot;</span>)<span class="question-mark">?</span>;</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.dgram_send_vec" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4252-4270" title="goto source code">[src]</a></div><a href="#method.dgram_send_vec" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.dgram_send_vec" class="fnname">dgram_send_vec</a>(&amp;mut self, buf: <a class="struct" href="https://doc.rust-lang.org/1.58.1/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u8.html">u8</a>&gt;) -&gt; <a class="type" href="type.Result.html" title="type quiche::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock"><p>Sends data in a DATAGRAM frame.</p>
<p>This is the same as <a href="struct.Connection.html#method.dgram_send"><code>dgram_send()</code></a> but takes a <code>Vec&lt;u8&gt;</code> instead of
a slice.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.dgram_purge_outgoing" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4288-4290" title="goto source code">[src]</a></div><a href="#method.dgram_purge_outgoing" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.dgram_purge_outgoing" class="fnname">dgram_purge_outgoing</a>&lt;F:&nbsp;<a class="trait" href="https://doc.rust-lang.org/1.58.1/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">]</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.bool.html">bool</a>&gt;(&amp;mut self, f: F)</h4></div></summary><div class="docblock"><p>Purges queued outgoing DATAGRAMs matching the predicate.</p>
<p>In other words, remove all elements <code>e</code> such that <code>f(&amp;e)</code> returns true.</p>
<h6 id="examples-8" class="section-header"><a href="#examples-8">Examples:</a></h6>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="ident">conn</span>.<span class="ident">dgram_send</span>(<span class="string">b&quot;hello&quot;</span>)<span class="question-mark">?</span>;
<span class="ident">conn</span>.<span class="ident">dgram_purge_outgoing</span>(<span class="kw-2">&amp;</span><span class="op">|</span><span class="ident">d</span>: <span class="kw-2">&amp;</span>[<span class="ident">u8</span>]<span class="op">|</span> -&gt; <span class="ident">bool</span> { <span class="ident">d</span>[<span class="number">0</span>] <span class="op">==</span> <span class="number">0</span> });</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.dgram_max_writable_len" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4314-4337" title="goto source code">[src]</a></div><a href="#method.dgram_max_writable_len" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.dgram_max_writable_len" class="fnname">dgram_max_writable_len</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.58.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.usize.html">usize</a>&gt;</h4></div></summary><div class="docblock"><p>Returns the maximum DATAGRAM payload that can be sent.</p>
<p><a href="https://doc.rust-lang.org/1.58.1/core/option/enum.Option.html#variant.None" title="None"><code>None</code></a> is returned if the peer hasn’t advertised a maximum DATAGRAM
frame size.</p>
<h6 id="examples-9" class="section-header"><a href="#examples-9">Examples:</a></h6>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">if</span> <span class="kw">let</span> <span class="prelude-val">Some</span>(<span class="ident">payload_size</span>) <span class="op">=</span> <span class="ident">conn</span>.<span class="ident">dgram_max_writable_len</span>() {
    <span class="kw">if</span> <span class="ident">payload_size</span> <span class="op">&gt;</span> <span class="number">5</span> {
        <span class="ident">conn</span>.<span class="ident">dgram_send</span>(<span class="string">b&quot;hello&quot;</span>)<span class="question-mark">?</span>;
    }
}</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.timeout" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4351-4382" title="goto source code">[src]</a></div><a href="#method.timeout" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.timeout" class="fnname">timeout</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.58.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.58.1/core/time/struct.Duration.html" title="struct core::time::Duration">Duration</a>&gt;</h4></div></summary><div class="docblock"><p>Returns the amount of time until the next timeout event.</p>
<p>Once the given duration has elapsed, the <a href="struct.Connection.html#method.on_timeout"><code>on_timeout()</code></a> method should
be called. A timeout of <code>None</code> means that the timer should be disarmed.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.on_timeout" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4387-4438" title="goto source code">[src]</a></div><a href="#method.on_timeout" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.on_timeout" class="fnname">on_timeout</a>(&amp;mut self)</h4></div></summary><div class="docblock"><p>Processes a timeout event.</p>
<p>If no timeout has occurred it does nothing.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.close" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4458-4479" title="goto source code">[src]</a></div><a href="#method.close" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.close" class="fnname">close</a>(&amp;mut self, app: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.bool.html">bool</a>, err: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u64.html">u64</a>, reason: <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">]</a>) -&gt; <a class="type" href="type.Result.html" title="type quiche::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock"><p>Closes the connection with the given error and reason.</p>
<p>The <code>app</code> parameter specifies whether an application close should be
sent to the peer. Otherwise a normal connection close is sent.</p>
<p>Returns <a href="enum.Error.html#variant.Done"><code>Done</code></a> if the connection had already been closed.</p>
<p>Note that the connection will not be closed immediately. An application
should continue calling the <a href="struct.Connection.html#method.recv"><code>recv()</code></a>, <a href="struct.Connection.html#method.send"><code>send()</code></a>, <a href="struct.Connection.html#method.timeout"><code>timeout()</code></a> and
<a href="struct.Connection.html#method.on_timeout"><code>on_timeout()</code></a> methods as normal, until the <a href="struct.Connection.html#method.is_closed"><code>is_closed()</code></a> method
returns <code>true</code>.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.trace_id" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4486-4488" title="goto source code">[src]</a></div><a href="#method.trace_id" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.trace_id" class="fnname">trace_id</a>(&amp;self) -&gt; &amp;<a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.str.html">str</a></h4></div></summary><div class="docblock"><p>Returns a string uniquely representing the connection.</p>
<p>This can be used for logging purposes to differentiate between multiple
connections.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.application_proto" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4494-4496" title="goto source code">[src]</a></div><a href="#method.application_proto" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.application_proto" class="fnname">application_proto</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">]</a><span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<div class="notable-traits-tooltiptext"><span class="docblock"><div class="notable">Notable traits for <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">&amp;'_ [</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">]</a></div><code class="content"><span class="where fmt-newline">impl&lt;'_&gt; <a class="trait" href="https://doc.rust-lang.org/1.58.1/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">&amp;'_ [</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">]</a></span><span class="where fmt-newline">impl&lt;'_&gt; <a class="trait" href="https://doc.rust-lang.org/1.58.1/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">&amp;'_ mut [</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">]</a></span></code></span></div></span></span></h4></div></summary><div class="docblock"><p>Returns the negotiated ALPN protocol.</p>
<p>If no protocol has been negotiated, the returned value is empty.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.server_name" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4500-4502" title="goto source code">[src]</a></div><a href="#method.server_name" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.server_name" class="fnname">server_name</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.58.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.str.html">str</a>&gt;</h4></div></summary><div class="docblock"><p>Returns the server name requested by the client.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.peer_cert" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4506-4508" title="goto source code">[src]</a></div><a href="#method.peer_cert" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.peer_cert" class="fnname">peer_cert</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.58.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">]</a>&gt;</h4></div></summary><div class="docblock"><p>Returns the peer’s leaf certificate (if any) as a DER-encoded buffer.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.session" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4517-4519" title="goto source code">[src]</a></div><a href="#method.session" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.session" class="fnname">session</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.58.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.slice.html">]</a>&gt;</h4></div></summary><div class="docblock"><p>Returns the serialized cryptographic session for the connection.</p>
<p>This can be used by a client to cache a connection’s session, and resume
it later using the <a href="struct.Connection.html#method.set_session"><code>set_session()</code></a> method.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.source_id" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4526-4528" title="goto source code">[src]</a></div><a href="#method.source_id" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.source_id" class="fnname">source_id</a>(&amp;self) -&gt; <a class="struct" href="struct.ConnectionId.html" title="struct quiche::ConnectionId">ConnectionId</a>&lt;'_&gt;</h4></div></summary><div class="docblock"><p>Returns the source connection ID.</p>
<p>Note that the value returned can change throughout the connection’s
lifetime.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.destination_id" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4535-4537" title="goto source code">[src]</a></div><a href="#method.destination_id" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.destination_id" class="fnname">destination_id</a>(&amp;self) -&gt; <a class="struct" href="struct.ConnectionId.html" title="struct quiche::ConnectionId">ConnectionId</a>&lt;'_&gt;</h4></div></summary><div class="docblock"><p>Returns the destination connection ID.</p>
<p>Note that the value returned can change throughout the connection’s
lifetime.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.is_established" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4541-4543" title="goto source code">[src]</a></div><a href="#method.is_established" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.is_established" class="fnname">is_established</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.bool.html">bool</a></h4></div></summary><div class="docblock"><p>Returns true if the connection handshake is complete.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.is_resumed" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4547-4549" title="goto source code">[src]</a></div><a href="#method.is_resumed" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.is_resumed" class="fnname">is_resumed</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.bool.html">bool</a></h4></div></summary><div class="docblock"><p>Returns true if the connection is resumed.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.is_in_early_data" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4554-4556" title="goto source code">[src]</a></div><a href="#method.is_in_early_data" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.is_in_early_data" class="fnname">is_in_early_data</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.bool.html">bool</a></h4></div></summary><div class="docblock"><p>Returns true if the connection has a pending handshake that has
progressed enough to send or receive early data.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.is_readable" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4560-4562" title="goto source code">[src]</a></div><a href="#method.is_readable" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.is_readable" class="fnname">is_readable</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.bool.html">bool</a></h4></div></summary><div class="docblock"><p>Returns whether there is stream or DATAGRAM data available to read.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.is_draining" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4578-4580" title="goto source code">[src]</a></div><a href="#method.is_draining" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.is_draining" class="fnname">is_draining</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.bool.html">bool</a></h4></div></summary><div class="docblock"><p>Returns true if the connection is draining.</p>
<p>If this returns true, the connection object cannot yet be dropped, but
no new application data can be sent or received. An application should
continue calling the <a href="struct.Connection.html#method.recv"><code>recv()</code></a>, <a href="struct.Connection.html#method.send"><code>send()</code></a>, <a href="struct.Connection.html#method.timeout"><code>timeout()</code></a>, and
<a href="struct.Connection.html#method.on_timeout"><code>on_timeout()</code></a> methods as normal, until the <a href="struct.Connection.html#method.is_closed"><code>is_closed()</code></a> method
returns <code>true</code>.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.is_closed" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4586-4588" title="goto source code">[src]</a></div><a href="#method.is_closed" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.is_closed" class="fnname">is_closed</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.bool.html">bool</a></h4></div></summary><div class="docblock"><p>Returns true if the connection is closed.</p>
<p>If this returns true, the connection object can be dropped.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.is_timed_out" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4592-4594" title="goto source code">[src]</a></div><a href="#method.is_timed_out" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.is_timed_out" class="fnname">is_timed_out</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.bool.html">bool</a></h4></div></summary><div class="docblock"><p>Returns true if the connection was closed due to the idle timeout.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.peer_error" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4603-4605" title="goto source code">[src]</a></div><a href="#method.peer_error" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.peer_error" class="fnname">peer_error</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.58.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="struct" href="struct.ConnectionError.html" title="struct quiche::ConnectionError">ConnectionError</a>&gt;</h4></div></summary><div class="docblock"><p>Returns the error received from the peer, if any.</p>
<p>Note that a <code>Some</code> return value does not necessarily imply
<a href="struct.Connection.html#method.is_closed"><code>is_closed()</code></a> or any other connection state.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.local_error" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4618-4620" title="goto source code">[src]</a></div><a href="#method.local_error" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.local_error" class="fnname">local_error</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.58.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="struct" href="struct.ConnectionError.html" title="struct quiche::ConnectionError">ConnectionError</a>&gt;</h4></div></summary><div class="docblock"><p>Returns the error <a href="struct.Connection.html#method.close"><code>close()</code></a> was called with, or internally
created quiche errors, if any.</p>
<p>Note that a <code>Some</code> return value does not necessarily imply
<a href="struct.Connection.html#method.is_closed"><code>is_closed()</code></a> or any other connection state.
<code>Some</code> also does not guarantee that the error has been sent to
or received by the peer.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stats" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/quiche/lib.rs.html#4624-4672" title="goto source code">[src]</a></div><a href="#method.stats" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stats" class="fnname">stats</a>(&amp;self) -&gt; <a class="struct" href="struct.Stats.html" title="struct quiche::Stats">Stats</a></h4></div></summary><div class="docblock"><p>Collects and returns statistics about the connection.</p>
</div></details></div></details><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor"></a></h2><div id="synthetic-implementations-list"><div id="impl-RefUnwindSafe" class="impl has-srclink"><div class="rightside"></div><a href="#impl-RefUnwindSafe" class="anchor"></a><h3 class="code-header in-band">impl !<a class="trait" href="https://doc.rust-lang.org/1.58.1/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.Connection.html" title="struct quiche::Connection">Connection</a></h3></div><div id="impl-Send" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Send" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.Connection.html" title="struct quiche::Connection">Connection</a></h3></div><div id="impl-Sync" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Sync" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.Connection.html" title="struct quiche::Connection">Connection</a></h3></div><div id="impl-Unpin" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Unpin" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.Connection.html" title="struct quiche::Connection">Connection</a></h3></div><div id="impl-UnwindSafe" class="impl has-srclink"><div class="rightside"></div><a href="#impl-UnwindSafe" class="anchor"></a><h3 class="code-header in-band">impl !<a class="trait" href="https://doc.rust-lang.org/1.58.1/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.Connection.html" title="struct quiche::Connection">Connection</a></h3></div></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor"></a></h2><div id="blanket-implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Any" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.58.1/src/core/any.rs.html#132-136" title="goto source code">[src]</a></div><a href="#impl-Any" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/1.58.1/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.type_id" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.58.1/src/core/any.rs.html#133" title="goto source code">[src]</a></div><a href="#method.type_id" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.58.1/core/any/trait.Any.html#tymethod.type_id" class="fnname">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.58.1/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></div></summary><div class='docblock'><p>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/1.58.1/core/any/trait.Any.html#tymethod.type_id">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Borrow%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.58.1/src/core/borrow.rs.html#208-213" title="goto source code">[src]</a></div><a href="#impl-Borrow%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/1.58.1/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.borrow" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.58.1/src/core/borrow.rs.html#210" title="goto source code">[src]</a></div><a href="#method.borrow" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.58.1/core/borrow/trait.Borrow.html#tymethod.borrow" class="fnname">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.reference.html">&amp;</a>T</h4></div></summary><div class='docblock'><p>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.58.1/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-BorrowMut%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.58.1/src/core/borrow.rs.html#216-220" title="goto source code">[src]</a></div><a href="#impl-BorrowMut%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/1.58.1/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.borrow_mut" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.58.1/src/core/borrow.rs.html#217" title="goto source code">[src]</a></div><a href="#method.borrow_mut" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.58.1/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fnname">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.58.1/std/primitive.reference.html">&amp;mut </a>T</h4></div></summary><div class='docblock'><p>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.58.1/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-From%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.58.1/src/core/convert/mod.rs.html#549-553" title="goto source code">[src]</a></div><a href="#impl-From%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.from" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.58.1/src/core/convert/mod.rs.html#550" title="goto source code">[src]</a></div><a href="#method.from" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.58.1/core/convert/trait.From.html#tymethod.from" class="fnname">from</a>(t: T) -&gt; T</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Into%3CU%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.58.1/src/core/convert/mod.rs.html#537-544" title="goto source code">[src]</a></div><a href="#impl-Into%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.into" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.58.1/src/core/convert/mod.rs.html#541" title="goto source code">[src]</a></div><a href="#method.into" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.58.1/core/convert/trait.Into.html#tymethod.into" class="fnname">into</a>(self) -&gt; U</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-TryFrom%3CU%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.58.1/src/core/convert/mod.rs.html#587-596" title="goto source code">[src]</a></div><a href="#impl-TryFrom%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Error" class="type trait-impl has-srclink"><a href="#associatedtype.Error" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.58.1/core/convert/trait.TryFrom.html#associatedtype.Error" class="type">Error</a> = <a class="enum" href="https://doc.rust-lang.org/1.58.1/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></div></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.try_from" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.58.1/src/core/convert/mod.rs.html#593" title="goto source code">[src]</a></div><a href="#method.try_from" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.58.1/core/convert/trait.TryFrom.html#tymethod.try_from" class="fnname">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.58.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/1.58.1/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-TryInto%3CU%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.58.1/src/core/convert/mod.rs.html#573-582" title="goto source code">[src]</a></div><a href="#impl-TryInto%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Error-1" class="type trait-impl has-srclink"><a href="#associatedtype.Error-1" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.58.1/core/convert/trait.TryInto.html#associatedtype.Error" class="type">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/1.58.1/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></div></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.try_into" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.58.1/src/core/convert/mod.rs.html#579" title="goto source code">[src]</a></div><a href="#method.try_into" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.58.1/core/convert/trait.TryInto.html#tymethod.try_into" class="fnname">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.58.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.58.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/1.58.1/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="quiche" data-search-index-js="../search-index.js" data-search-js="../search.js"></div>
</body></html>